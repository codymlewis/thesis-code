"""
Plot generation script for neural network partition times tested across devices
"""

import matplotlib.pyplot as plt
import pandas as pd


def create_plot(name):
    """
    Create a plot comparing the computation times of neural network updates generated by
    the experiments in device_partition.py

    Arguments:
    - name: Name of the file to save the plot image to
    """
    laptop = pd.read_csv(f'results/laptop/{name}.csv')
    bigcom = pd.read_csv(f'results/big com/{name}.csv')
    littlecom = pd.read_csv(f'results/little com/{name}.csv')
    plt.plot(laptop.p, laptop.time, '-o', label='1')
    plt.plot(bigcom.p, bigcom.time, '-s', label='2')
    plt.plot(littlecom.p, littlecom.time, '-^', label='3')
    plt.xlabel('$p$')
    plt.ylabel('Time (s)')
    plt.legend(title='Device', loc='upper left')
    plt.savefig(f'{name}.png', dpi=320)
    print(f"Saved the {name} plot")
    plt.clf()


if __name__ == "__main__":
    create_plot('device_times')
    create_plot('device_times_jit')
